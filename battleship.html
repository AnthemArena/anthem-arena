<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hextech Warfare - Battleship Game | Anthem Arena</title>
    <meta name="description" content="Play Hextech Warfare - A League of Legends themed battleship game. Choose Caitlyn or Jinx and battle the AI!">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Lora:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/scrollbar.css">
    <link rel="stylesheet" href="/css/battleship.css">
    
    <!-- ‚úÖ CRITICAL: Load global systems FIRST -->
    <script type="module" src="/js/firebase-config.js"></script>
    <script type="module" src="/js/notification-storage.js"></script>
    <script type="module" src="/js/notification-center.js"></script>
    <script type="module" src="/js/global-notifications.js"></script>
</head>

<body class="game-page">
    
    <!-- Navigation (matches your site) -->
    <div id="nav-placeholder"></div>
    <script type="module" src="/js/navigation.js"></script>

    <!-- Game Container -->
    <main class="game-container">
        
        <!-- Character Selection Screen -->
        <div id="characterSelect" class="character-select">
            <h1 class="game-title">HEXTECH WARFARE</h1>
            <p class="game-subtitle">Choose your champion</p>
            
            <div class="character-grid">
                <!-- Caitlyn Card -->
                <div class="character-card" data-character="caitlyn">
                    <div class="character-portrait">
                        <img src="https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Caitlyn_0.jpg" alt="Caitlyn">
                    </div>
                    <h2>üéØ CAITLYN</h2>
                    <p class="character-tagline">The Sheriff of Piltover</p>
                    <ul class="ability-list">
                        <li><strong>Precision:</strong> Reveal adjacent squares on hit</li>
                        <li><strong>Ace in the Hole:</strong> Scan 3x3 area</li>
                    </ul>
                    <button class="select-btn" data-character="caitlyn">
                        SELECT CAITLYN
                    </button>
                </div>

                <!-- Jinx Card -->
                <div class="character-card" data-character="jinx">
                    <div class="character-portrait">
                        <img src="https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Jinx_0.jpg" alt="Jinx">
                    </div>
                    <h2>üí• JINX</h2>
                    <p class="character-tagline">The Loose Cannon</p>
                    <ul class="ability-list">
                        <li><strong>Chaos:</strong> Random explosions on hit</li>
                        <li><strong>Super Mega Rocket:</strong> 5 wild shots</li>
                    </ul>
                    <button class="select-btn" data-character="jinx">
                        SELECT JINX
                    </button>
                </div>
            </div>

            <!-- Difficulty Selection -->
            <div class="difficulty-select">
                <label>AI Difficulty:</label>
                <select id="difficultySelect">
                    <option value="easy">Easy - Powder Mode</option>
                    <option value="medium" selected>Medium - Enforcer Mode</option>
                    <option value="hard">Hard - Sheriff Mode</option>
                    <option value="chaos">Chaos - Jinx Mode</option>
                </select>
            </div>
        </div>

        <!-- Ship Placement Screen -->
        <div id="shipPlacement" class="ship-placement hidden">
            <h2>Place Your Fleet</h2>
            <div class="placement-instructions">
                <p>Click to place ships. Right-click to rotate.</p>
            </div>
           
            
            <div class="placement-grid-container">
                <div id="placementGrid" class="game-grid"></div>
            </div>

               <!-- ‚úÖ ADD THIS: Current Ship Display -->
    <div class="current-ship-display">
        <p class="ship-label">Now Placing:</p>
        <div class="ship-preview" id="currentShipPreview">
            <div class="preview-cells"></div>
        </div>
        <p class="ship-hint">Right-click to rotate ‚Ä¢ Click grid to place</p>
    </div>

            <div class="ship-selector">
                <div class="ship-item" data-ship="carrier" data-size="5">
                    <span class="ship-icon">üö¢</span>
                    <span>Carrier (5)</span>
                </div>
                <div class="ship-item" data-ship="battleship" data-size="4">
                    <span class="ship-icon">‚õ¥Ô∏è</span>
                    <span>Battleship (4)</span>
                </div>
                <div class="ship-item" data-ship="cruiser" data-size="3">
                    <span class="ship-icon">üö§</span>
                    <span>Cruiser (3)</span>
                </div>
                <div class="ship-item" data-ship="submarine" data-size="3">
                    <span class="ship-icon">üõ•Ô∏è</span>
                    <span>Submarine (3)</span>
                </div>
                <div class="ship-item" data-ship="destroyer" data-size="2">
                    <span class="ship-icon">‚öì</span>
                    <span>Destroyer (2)</span>
                </div>
            </div>

            <button id="randomPlacement" class="secondary-btn">
                üé≤ Random Placement
            </button>
            <button id="startGame" class="primary-btn" disabled>
                START BATTLE
            </button>
        </div>

        <!-- Battle Screen -->
        <div id="battleScreen" class="battle-screen hidden">
            
            <div class="battle-layout">
                
                <!-- Player Character -->
                <div id="playerBanner" class="character-banner player-side">
                    <div class="banner-portrait">
                        <img id="playerPortrait" src="" alt="">
                    </div>
                    <div class="character-info">
                        <h3 id="playerName">CAITLYN</h3>
                        <p class="character-status">Your Fleet</p>
                        <div class="ships-remaining">
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                        </div>
                    </div>
                 <div class="abilities">
    <button class="ability-btn passive-ability" id="ability1">
        <span class="ability-name">Precision</span>
        <span class="ability-cooldown">Passive</span>
        <div class="ability-tooltip">
            <strong>Precision</strong><br>
            Reveals adjacent cells around each hit
        </div>
    </button>
    <button class="ability-btn ultimate-ability" id="ability2">
        <span class="ability-name">Ultimate</span>
        <span class="ability-uses">1 Use</span>
        <div class="ability-tooltip">
            <strong>Ace in the Hole</strong><br>
            Reveals a 3x3 area on the enemy grid
        </div>
    </button>
</div>
                </div>

                <!-- Game Boards -->
                <div class="boards-container">
                    <div class="board-section">
                        <h3>YOUR FLEET</h3>
                        <div id="playerGrid" class="game-grid player-grid"></div>
                    </div>
                    <div class="board-section">
                        <h3>ENEMY FLEET</h3>
                        <div id="enemyGrid" class="game-grid enemy-grid"></div>
                    </div>
                </div>

                <!-- Opponent Character -->
                <div id="opponentBanner" class="character-banner opponent-side">
                    <div class="banner-portrait">
                        <img id="opponentPortrait" src="" alt="">
                    </div>
                    <div class="character-info">
                        <h3 id="opponentName">JINX</h3>
                        <p class="character-status">Enemy Fleet</p>
                        <div class="ships-remaining">
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                            <div class="ship-icon">‚ñ†</div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Character Quote Display -->
            <div id="characterQuote" class="character-quote"></div>

            <!-- Turn Indicator -->
            <div id="turnIndicator" class="turn-indicator">
                <p>YOUR TURN - Select target</p>
            </div>

        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="game-over hidden">
            <div class="game-over-content">
                <h1 id="resultTitle">VICTORY</h1>
                <div id="resultCharacter" class="result-character">
                    <img src="" alt="">
                </div>
                <p id="resultQuote" class="result-quote"></p>
                
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-label">Accuracy</span>
                        <span class="stat-value" id="accuracyStat">0%</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Shots Fired</span>
                        <span class="stat-value" id="shotsStat">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">XP Earned</span>
                        <span class="stat-value" id="xpStat">+0</span>
                    </div>
                </div>

                <div class="game-over-actions">
                    <button id="playAgain" class="primary-btn">PLAY AGAIN</button>
                    <button id="changeCharacter" class="secondary-btn">CHANGE CHARACTER</button>
                    <a href="/index.html" class="tertiary-btn">BACK TO TOURNAMENTS</a>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <div id="footer-placeholder"></div>
    <script src="/js/footer.js"></script>

    <!-- ‚úÖ Game Scripts - Load as ES Modules -->
    <script type="module" src="/js/character-quotes.js"></script>
    <script type="module" src="/js/battleship-game.js"></script>
    <script type="module" src="/js/battleship-ai.js"></script>
    <script type="module" src="/js/battleship-ui.js"></script>
    
    <!-- Buy Me a Coffee Widget -->
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="anthemarena" data-description="Support me on Buy me a coffee!" data-message="Thanks for playing!" data-color="#d4af37" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
</body>
</html>